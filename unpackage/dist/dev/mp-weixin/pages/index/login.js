(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/login"],{56:function(e,n,t){"use strict";(function(e){t(5),t(6);o(t(3));var n=o(t(57));function o(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=t,e(n.default)}).call(this,t(1)["createPage"])},57:function(e,n,t){"use strict";t.r(n);var o=t(58),r=t(60);for(var a in r)"default"!==a&&function(e){t.d(n,e,(function(){return r[e]}))}(a);t(62);var c,u=t(15),i=Object(u["default"])(r["default"],o["render"],o["staticRenderFns"],!1,null,null,null,!1,o["components"],c);i.options.__file="pages/index/login.vue",n["default"]=i.exports},58:function(e,n,t){"use strict";t.r(n);var o=t(59);t.d(n,"render",(function(){return o["render"]})),t.d(n,"staticRenderFns",(function(){return o["staticRenderFns"]})),t.d(n,"recyclableRender",(function(){return o["recyclableRender"]})),t.d(n,"components",(function(){return o["components"]}))},59:function(e,n,t){"use strict";var o;t.r(n),t.d(n,"render",(function(){return r})),t.d(n,"staticRenderFns",(function(){return c})),t.d(n,"recyclableRender",(function(){return a})),t.d(n,"components",(function(){return o}));try{o={uIcon:function(){return t.e("uview-ui/components/u-icon/u-icon").then(t.bind(null,386))}}}catch(u){if(-1===u.message.indexOf("Cannot find module")||-1===u.message.indexOf(".vue"))throw u;console.error(u.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var r=function(){var e=this,n=e.$createElement;e._self._c},a=!1,c=[];r._withStripped=!0},60:function(e,n,t){"use strict";t.r(n);var o=t(61),r=t.n(o);for(var a in o)"default"!==a&&function(e){t.d(n,e,(function(){return o[e]}))}(a);n["default"]=r.a},61:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t={mounted:function(){console.log(222);var n=new Date,t=n.getFullYear(),o=n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1,r=n.getDate()<10?"0"+n.getDate():n.getDate(),a=t+o+r;console.log(a,"timer");var c=e.getStorageSync("before"),u=e.getStorageSync("itemlogin");console.log(u,c,"ceshi"),console.log(a>c),""!=u&&a<=c?(console.log("调整"),console.log(u),e.reLaunch({url:"tabbar",fail:function(e){console.log(e)}})):console.log("不调整")},data:function(){var e=new Date,n=e.getFullYear(),t=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,o=e.getDate()<10?"0"+e.getDate():e.getDate(),r=n+t+o;return console.log(r,"before dateStrdateStrdateStr"),{img:"https://s1.ax1x.com/2022/06/25/jkaTWn.png",logion:!0,before:r}},methods:{goExplain:function(){e.navigateTo({url:"./explain"})},mounted:function(n){console.log(n);var t=e.getStorageSync("itemlogin");console.log(t),null!=t?(console.log(t),n?e.reLaunch({url:"guide",fail:function(e){console.log(e)}}):e.reLaunch({url:"tabbar",fail:function(e){console.log(e)}})):n?e.reLaunch({url:"guide",fail:function(e){console.log(e)}}):e.reLaunch({url:"tabbar",fail:function(e){console.log(e)}})},getUserInfo:function(){var n=this;this.logion=!1,wx.getUserProfile({desc:"用于完善会员资料",success:function(t){wx.login({success:function(o){e.setStorageSync("avatarUrl",t.userInfo.avatarUrl),e.setStorageSync("nickName",t.userInfo.nickName);e.getStorageSync("nickName"),e.getStorageSync("avatarUrl");o.code&&n.setCode(o.code,t)},fail:function(e){console.log(e)}})},fail:function(e){}})},setCode:function(n,t){var o=this;wx.request({url:"https://xuyq.xyz:3306/user/wx/login",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{code:n,rawData:t.rawData,encrypteData:t.encryptedData,iv:t.iv},success:function(n){200==n.data.status?(e.setStorageSync("itemlogin",n.data.data),o.getUserid(n.data.data),console.log(n),o.mounted(n.data.flag)):e.showToast({title:"登录失败",icon:"none"})},fail:function(e){}})},getUserid:function(n){var t=this;e.request({url:"https://xuyq.xyz:3306/user/findUserId",method:"GET",header:{"content-type":"application/x-www-form-urlencoded"},data:{skey:n},success:function(n){console.log(n),e.setStorageSync("before",t.before),console.log(t.before,"settimer"),e.setStorage({key:"userId",data:n.data,success:function(){},fail:function(e){}})}})}}};n.default=t}).call(this,t(1)["default"])},62:function(e,n,t){"use strict";t.r(n);var o=t(63),r=t.n(o);for(var a in o)"default"!==a&&function(e){t.d(n,e,(function(){return o[e]}))}(a);n["default"]=r.a},63:function(e,n,t){}},[[56,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/index/login.js.map