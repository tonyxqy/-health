{"version":3,"sources":["uni-app:///wxcomponents/vant/toast/toast.js","uni-app:///wxcomponents/vant/common/validator.js"],"names":["defaultOptions","type","mask","message","show","zIndex","duration","position","forbidClick","loadingType","selector","queue","currentOptions","Object","assign","parseOptions","isObj","getContext","pages","getCurrentPages","length","Toast","toastOptions","options","context","toast","selectComponent","clear","setData","onClose","push","clearTimeout","timer","setTimeout","filter","item","console","warn","createMethod","loading","success","fail","forEach","setDefaultOptions","resetDefaultOptions","isFunction","val","isPlainObject","Array","isArray","isPromise","then","catch","isDef","value","undefined","x","isNumber","test","isBoolean","IMAGE_REGEXP","VIDEO_REGEXP","isImageUrl","url","isVideoUrl"],"mappings":"4LAAA,aACMA,EAAiB,CACnBC,KAAM,OACNC,MAAM,EACNC,QAAS,GACTC,MAAM,EACNC,OAAQ,IACRC,SAAU,IACVC,SAAU,SACVC,aAAa,EACbC,YAAa,WACbC,SAAU,cAEVC,EAAQ,GACRC,EAAiBC,OAAOC,OAAO,GAAId,GACvC,SAASe,EAAaZ,GAClB,OAAO,IAAAa,OAAMb,GAAWA,EAAU,CAAEA,WAExC,SAASc,IACL,IAAMC,EAAQC,kBACd,OAAOD,EAAMA,EAAME,OAAS,GAEhC,SAASC,EAAMC,GACX,IAAMC,EAAUV,OAAOC,OAAOD,OAAOC,OAAO,GAAIF,GAAiBG,EAAaO,IACxEE,EAAUD,EAAQC,SAAWP,IAC7BQ,EAAQD,EAAQE,gBAAgBH,EAAQb,UAC9C,GAAKe,EAqBL,cAjBOF,EAAQC,eACRD,EAAQb,SACfe,EAAME,MAAQ,WACVF,EAAMG,QAAQ,CAAExB,MAAM,IAClBmB,EAAQM,SACRN,EAAQM,WAGhBlB,EAAMmB,KAAKL,GACXA,EAAMG,QAAQL,GACdQ,aAAaN,EAAMO,OACK,MAApBT,EAAQjB,UAAoBiB,EAAQjB,SAAW,IAC/CmB,EAAMO,MAAQC,YAAW,WACrBR,EAAME,QACNhB,EAAQA,EAAMuB,QAAO,SAACC,GAAD,OAAUA,IAASV,OACzCF,EAAQjB,WAERmB,EApBHW,QAAQC,KAAK,gDAsBrB,IAAMC,EAAe,SAACrC,GAAD,OAAU,SAACsB,GAAD,OAAaF,EAAMR,OAAOC,OAAO,CAAEb,QAAQc,EAAaQ,OACvFF,EAAMkB,QAAUD,EAAa,WAC7BjB,EAAMmB,QAAUF,EAAa,WAC7BjB,EAAMoB,KAAOH,EAAa,QAC1BjB,EAAMM,MAAQ,WACVhB,EAAM+B,SAAQ,SAACjB,GACXA,EAAME,WAEVhB,EAAQ,IAEZU,EAAMsB,kBAAoB,SAACpB,GACvBV,OAAOC,OAAOF,EAAgBW,IAElCF,EAAMuB,oBAAsB,WACxBhC,EAAiBC,OAAOC,OAAO,GAAId,I,MAExBqB,E,8CChER,SAASwB,EAAWC,GACvB,MAAsB,oBAARA,EAEX,SAASC,EAAcD,GAC1B,OAAe,OAARA,GAA+B,kBAARA,IAAqBE,MAAMC,QAAQH,GAE9D,SAASI,EAAUJ,GACtB,OAAOC,EAAcD,IAAQD,EAAWC,EAAIK,OAASN,EAAWC,EAAIM,OAEjE,SAASC,EAAMC,GAClB,YAAiBC,IAAVD,GAAiC,OAAVA,EAE3B,SAAStC,EAAMwC,GAClB,IAAMvD,SAAcuD,EACpB,OAAa,OAANA,IAAwB,WAATvD,GAA8B,aAATA,GAExC,SAASwD,EAASH,GACrB,MAAO,gBAAgBI,KAAKJ,GAEzB,SAASK,EAAUL,GACtB,MAAwB,mBAAVA,E,6KAElB,IAAMM,EAAe,8CACfC,EAAe,wDACd,SAASC,EAAWC,GACvB,OAAOH,EAAaF,KAAKK,GAEtB,SAASC,EAAWD,GACvB,OAAOF,EAAaH,KAAKK","file":"page_upload/common/vendor.js","sourcesContent":["import { isObj } from '../common/validator';\nconst defaultOptions = {\n    type: 'text',\n    mask: false,\n    message: '',\n    show: true,\n    zIndex: 1000,\n    duration: 2000,\n    position: 'middle',\n    forbidClick: false,\n    loadingType: 'circular',\n    selector: '#van-toast',\n};\nlet queue = [];\nlet currentOptions = Object.assign({}, defaultOptions);\nfunction parseOptions(message) {\n    return isObj(message) ? message : { message };\n}\nfunction getContext() {\n    const pages = getCurrentPages();\n    return pages[pages.length - 1];\n}\nfunction Toast(toastOptions) {\n    const options = Object.assign(Object.assign({}, currentOptions), parseOptions(toastOptions));\n    const context = options.context || getContext();\n    const toast = context.selectComponent(options.selector);\n    if (!toast) {\n        console.warn('未找到 van-toast 节点，请确认 selector 及 context 是否正确');\n        return;\n    }\n    delete options.context;\n    delete options.selector;\n    toast.clear = () => {\n        toast.setData({ show: false });\n        if (options.onClose) {\n            options.onClose();\n        }\n    };\n    queue.push(toast);\n    toast.setData(options);\n    clearTimeout(toast.timer);\n    if (options.duration != null && options.duration > 0) {\n        toast.timer = setTimeout(() => {\n            toast.clear();\n            queue = queue.filter((item) => item !== toast);\n        }, options.duration);\n    }\n    return toast;\n}\nconst createMethod = (type) => (options) => Toast(Object.assign({ type }, parseOptions(options)));\nToast.loading = createMethod('loading');\nToast.success = createMethod('success');\nToast.fail = createMethod('fail');\nToast.clear = () => {\n    queue.forEach((toast) => {\n        toast.clear();\n    });\n    queue = [];\n};\nToast.setDefaultOptions = (options) => {\n    Object.assign(currentOptions, options);\n};\nToast.resetDefaultOptions = () => {\n    currentOptions = Object.assign({}, defaultOptions);\n};\nexport default Toast;\n","// eslint-disable-next-line @typescript-eslint/ban-types\nexport function isFunction(val) {\n    return typeof val === 'function';\n}\nexport function isPlainObject(val) {\n    return val !== null && typeof val === 'object' && !Array.isArray(val);\n}\nexport function isPromise(val) {\n    return isPlainObject(val) && isFunction(val.then) && isFunction(val.catch);\n}\nexport function isDef(value) {\n    return value !== undefined && value !== null;\n}\nexport function isObj(x) {\n    const type = typeof x;\n    return x !== null && (type === 'object' || type === 'function');\n}\nexport function isNumber(value) {\n    return /^\\d+(\\.\\d+)?$/.test(value);\n}\nexport function isBoolean(value) {\n    return typeof value === 'boolean';\n}\nconst IMAGE_REGEXP = /\\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i;\nconst VIDEO_REGEXP = /\\.(mp4|mpg|mpeg|dat|asf|avi|rm|rmvb|mov|wmv|flv|mkv)/i;\nexport function isImageUrl(url) {\n    return IMAGE_REGEXP.test(url);\n}\nexport function isVideoUrl(url) {\n    return VIDEO_REGEXP.test(url);\n}\n"],"sourceRoot":""}