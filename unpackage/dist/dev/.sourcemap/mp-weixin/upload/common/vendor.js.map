{"version":3,"sources":["uni-app:///wxcomponents/vant/toast/toast.js","uni-app:///wxcomponents/vant/common/validator.js"],"names":["defaultOptions","type","mask","message","show","zIndex","duration","position","forbidClick","loadingType","selector","queue","currentOptions","Object","assign","parseOptions","getContext","pages","getCurrentPages","length","Toast","toastOptions","options","context","toast","selectComponent","console","warn","clear","setData","onClose","push","clearTimeout","timer","setTimeout","filter","item","createMethod","loading","success","fail","forEach","setDefaultOptions","resetDefaultOptions","isFunction","val","isPlainObject","Array","isArray","isPromise","then","catch","isDef","value","undefined","isObj","x","isNumber","test","isBoolean","IMAGE_REGEXP","VIDEO_REGEXP","isImageUrl","url","isVideoUrl"],"mappings":"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","file":"upload/common/vendor.js","sourcesContent":["import { isObj } from '../common/validator';\nconst defaultOptions = {\n    type: 'text',\n    mask: false,\n    message: '',\n    show: true,\n    zIndex: 1000,\n    duration: 2000,\n    position: 'middle',\n    forbidClick: false,\n    loadingType: 'circular',\n    selector: '#van-toast',\n};\nlet queue = [];\nlet currentOptions = Object.assign({}, defaultOptions);\nfunction parseOptions(message) {\n    return isObj(message) ? message : { message };\n}\nfunction getContext() {\n    const pages = getCurrentPages();\n    return pages[pages.length - 1];\n}\nfunction Toast(toastOptions) {\n    const options = Object.assign(Object.assign({}, currentOptions), parseOptions(toastOptions));\n    const context = options.context || getContext();\n    const toast = context.selectComponent(options.selector);\n    if (!toast) {\n        console.warn('未找到 van-toast 节点，请确认 selector 及 context 是否正确');\n        return;\n    }\n    delete options.context;\n    delete options.selector;\n    toast.clear = () => {\n        toast.setData({ show: false });\n        if (options.onClose) {\n            options.onClose();\n        }\n    };\n    queue.push(toast);\n    toast.setData(options);\n    clearTimeout(toast.timer);\n    if (options.duration != null && options.duration > 0) {\n        toast.timer = setTimeout(() => {\n            toast.clear();\n            queue = queue.filter((item) => item !== toast);\n        }, options.duration);\n    }\n    return toast;\n}\nconst createMethod = (type) => (options) => Toast(Object.assign({ type }, parseOptions(options)));\nToast.loading = createMethod('loading');\nToast.success = createMethod('success');\nToast.fail = createMethod('fail');\nToast.clear = () => {\n    queue.forEach((toast) => {\n        toast.clear();\n    });\n    queue = [];\n};\nToast.setDefaultOptions = (options) => {\n    Object.assign(currentOptions, options);\n};\nToast.resetDefaultOptions = () => {\n    currentOptions = Object.assign({}, defaultOptions);\n};\nexport default Toast;\n","// eslint-disable-next-line @typescript-eslint/ban-types\nexport function isFunction(val) {\n    return typeof val === 'function';\n}\nexport function isPlainObject(val) {\n    return val !== null && typeof val === 'object' && !Array.isArray(val);\n}\nexport function isPromise(val) {\n    return isPlainObject(val) && isFunction(val.then) && isFunction(val.catch);\n}\nexport function isDef(value) {\n    return value !== undefined && value !== null;\n}\nexport function isObj(x) {\n    const type = typeof x;\n    return x !== null && (type === 'object' || type === 'function');\n}\nexport function isNumber(value) {\n    return /^\\d+(\\.\\d+)?$/.test(value);\n}\nexport function isBoolean(value) {\n    return typeof value === 'boolean';\n}\nconst IMAGE_REGEXP = /\\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i;\nconst VIDEO_REGEXP = /\\.(mp4|mpg|mpeg|dat|asf|avi|rm|rmvb|mov|wmv|flv|mkv)/i;\nexport function isImageUrl(url) {\n    return IMAGE_REGEXP.test(url);\n}\nexport function isVideoUrl(url) {\n    return VIDEO_REGEXP.test(url);\n}\n"],"sourceRoot":""}